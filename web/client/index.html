<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenYellow - Агрегатор open-source проектов для 1С</title>
    <meta name="description" content="OpenYellow - агрегатор open-source проектов для 1С:Предприятие">
    
    <!-- PWA -->
    <meta name="theme-color" content="#1a1a1a">
    <link rel="icon" href="static/logo.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="static/logo.png" alt="OpenYellow">
                <span>OpenYellow</span>
            </a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link active">
                    <span>Главная</span>
                </a>
                <a href="grid" class="nav-link">
                    <span>Репозитории</span>
                </a>
                <a href="authors.html" class="nav-link">
                    <span>Авторы</span>
                </a>
                <a href="badges.html" class="nav-link">
                    <span>Значки</span>
                </a>
            </div>
            
            <button class="nav-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Compact Hero Section -->
    <section class="hero-compact">
        <div class="container">
            <div class="hero-compact-content">
                <div class="hero-compact-info">
                    <img src="static/logo_side.png" alt="OpenYellow" class="hero-compact-logo">
                    <div>
                        <h1>OpenYellow</h1>
                        <p>Агрегатор open-source проектов для 1С:Предприятие</p>
                    </div>
                </div>
                
                <!-- Compact Stats -->
                <div class="stats-compact">
                    <div class="stat-compact">
                        <div class="stat-value" id="totalRepos">-</div>
                        <div class="stat-label">Репозиториев</div>
                    </div>
                    <div class="stat-compact">
                        <div class="stat-value" id="totalStars">-</div>
                        <div class="stat-label">Звезд</div>
                    </div>
                    <div class="stat-compact">
                        <div class="stat-value" id="totalAuthors">-</div>
                        <div class="stat-label">Авторов</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- News Feed Section -->
    <section class="news-feed">
        <div class="container">
            <h2 class="section-title">Новости проекта</h2>
            
            <div class="news-grid" id="newsGrid">
                <div class="news-loading">
                    <div class="spinner"></div>
                    <p>Загрузка новостей...</p>
                </div>
            </div>
            
            <button id="loadMoreNews" class="btn btn-secondary" style="display: none; margin: var(--spacing-lg) auto 0;">
                Загрузить еще
            </button>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories">
        <div class="container">
            <h2 class="section-title">Категории репозиториев</h2>
            
            <div class="category-grid">
                <a href="grid?filter=top" class="category-card">
                    <div class="category-icon">★</div>
                    <h3>Индекс</h3>
                    <p>Самые популярные репозитории по количеству звезд</p>
                    <span class="category-link">Смотреть →</span>
                </a>
                
                <a href="grid?filter=new" class="category-card">
                    <div class="category-icon">+</div>
                    <h3>Новые</h3>
                    <p>Свежие проекты, ожидающие своих первых пользователей</p>
                    <span class="category-link">Смотреть →</span>
                </a>
                
                <a href="grid?filter=updated" class="category-card">
                    <div class="category-icon">↻</div>
                    <h3>Активные</h3>
                    <p>Проекты с недавними обновлениями и активной разработкой</p>
                    <span class="category-link">Смотреть →</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Community Section -->
    <section class="community">
        <div class="container">
            <h2 class="section-title">Ресурсы</h2>
            
            <div class="community-grid">
                <div class="community-card telegram">
                    <img src="static/tg.png" alt="Telegram" class="community-icon">
                    <h3>Telegram</h3>
                    <p>Следите за новыми проектами, еженедельными топами и новостями</p>
                    <a href="https://t.me/openyellowproject" class="btn btn-primary" target="_blank">
                        Подписаться
                    </a>
                </div>
                
                <div class="community-card boosty">
                    <img src="static/boosty.png" alt="Boosty" class="community-icon">
                    <h3>Boosty</h3>
                    <p>Поддержите развитие агрегатора и популяризацию open-source</p>
                    <a href="https://boosty.to/bayselonarrend" class="btn btn-secondary" target="_blank">
                        Поддержать
                    </a>
                </div>
                
                <div class="community-card github">
                    <div class="community-icon-text">GitHub</div>
                    <h3>GitHub</h3>
                    <p>Исходный код OpenYellow и другие проекты OpenBSL</p>
                    <a href="https://github.com/OpenBSL" class="btn btn-secondary" target="_blank">
                        Перейти
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- News Modal -->
    <div class="modal" id="newsModal">
        <div class="modal-overlay" id="newsModalOverlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="newsModalClose">×</button>
            
            <div class="news-details">
                <div class="news-header">
                    <img id="newsIcon" src="" alt="" class="news-icon">
                    <div>
                        <h2 id="newsTitle"></h2>
                        <p id="newsDate" class="news-date"></p>
                    </div>
                </div>
                
                <div id="newsText" class="news-text"></div>
                
                <div id="newsLinkContainer" class="news-link-container" style="display: none;">
                    <a id="newsLink" href="" target="_blank" class="btn btn-primary">
                        Перейти →
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer"></footer>
    <script src="js/footer.js"></script>
    <script src="js/news.js"></script>

    <!-- Yandex.Metrika -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for(var j=0;j<document.scripts.length;j++){if(document.scripts[j].src===r){return;}}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");
        ym(98234044,"init",{clickmap:true,trackLinks:true,accurateTrackBounce:true});
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/98234044" style="position:absolute;left:-9999px;" alt=""/></div></noscript>
</body>
</html>
